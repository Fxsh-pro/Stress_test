{% extends 'tests/base.html' %}

{% block test_content %}
    <div class="container mt-4">
        <h1 class="mb-4">Результаты теста</h1>
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Test ID: {{ test_result.id }}</h3>
                        <p class="card-text">Начало: {{ test_result.start_time }}</p>
                        <p class="card-text">Конец: {{ test_result.end_time }}</p>
                        <a href="{{ url_for('testing.view', test_id=test_result.test_id) }}"
                           class="btn btn-primary mt-3">
                            Конфигурация теста
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Метрики</h3>
                        <p class="card-text">Среднее время: {{ test_result.metrics.avgTime }} ms</p>
                        <p class="card-text">Максимальное время: {{ test_result.metrics['maxTime'] }} ms</p>
                        <p class="card-text">Минимальное время: {{ test_result.metrics['minTime'] }} ms</p>
                        <p class="card-text">Общее время: {{ test_result.metrics['totalTime'] }} ms</p>
                        <p class="card-text">Неудачные запросы: {{ test_result.metrics['failedRequests'] }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
